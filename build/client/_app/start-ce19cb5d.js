var ut=Object.defineProperty,dt=Object.defineProperties;var pt=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var Je=(o,e,t)=>e in o?ut(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,I=(o,e)=>{for(var t in e||(e={}))Ke.call(e,t)&&Je(o,t,e[t]);if(de)for(var t of de(e))We.call(e,t)&&Je(o,t,e[t]);return o},re=(o,e)=>dt(o,pt(e));var Ye=(o,e)=>{var t={};for(var r in o)Ke.call(o,r)&&e.indexOf(r)<0&&(t[r]=o[r]);if(o!=null&&de)for(var r of de(o))e.indexOf(r)<0&&We.call(o,r)&&(t[r]=o[r]);return t};import{S as _t,i as ht,s as mt,d as W,v as gt,a as Fe,b as Ge,o as pe,e as wt,c as bt,f as vt,g as B,h as ke,j as F,k as yt,l as q,t as kt,m as Et,n as Rt,p as St,q as j,r as Lt,u as H,w as C,x as Q,y as D,z as ae,A as z,B as ce,C as J,D as le,E as fe,F as K,G as _e,H as Me}from"./chunks/vendor-acddcd82.js";import{i as Pt}from"./chunks/singletons-d1fb5791.js";let Xe="";function $t(o){Xe=o.base,o.assets}const Ot=".svelte-kit/generated/root.svelte";function st(o){let e,t,r;const f=[o[1]||{}];var s=o[0][0];function l(a){let n={};for(let i=0;i<f.length;i+=1)n=ae(n,f[i]);return{props:n,$$inline:!0}}s&&(e=new s(l()));const d={c:function(){e&&z(e.$$.fragment),t=j()},l:function(n){e&&ce(e.$$.fragment,n),t=j()},m:function(n,i){e&&J(e,n,i),q(n,t,i),r=!0},p:function(n,i){const w=i&2?le(f,[fe(n[1]||{})]):{};if(s!==(s=n[0][0])){if(e){H();const p=e;C(p.$$.fragment,1,0,()=>{K(p,1)}),Q()}s?(e=new s(l()),z(e.$$.fragment),D(e.$$.fragment,1),J(e,t.parentNode,t)):e=null}else s&&e.$set(w)},i:function(n){r||(e&&D(e.$$.fragment,n),r=!0)},o:function(n){e&&C(e.$$.fragment,n),r=!1},d:function(n){n&&B(t),e&&K(e,n)}};return W("SvelteRegisterBlock",{block:d,id:st.name,type:"else",source:"(46:0) {:else}",ctx:o}),d}function rt(o){let e,t,r;const f=[o[1]||{}];var s=o[0][0];function l(a){let n={$$slots:{default:[lt]},$$scope:{ctx:a}};for(let i=0;i<f.length;i+=1)n=ae(n,f[i]);return{props:n,$$inline:!0}}s&&(e=new s(l(o)));const d={c:function(){e&&z(e.$$.fragment),t=j()},l:function(n){e&&ce(e.$$.fragment,n),t=j()},m:function(n,i){e&&J(e,n,i),q(n,t,i),r=!0},p:function(n,i){const w=i&2?le(f,[fe(n[1]||{})]):{};if(i&525&&(w.$$scope={dirty:i,ctx:n}),s!==(s=n[0][0])){if(e){H();const p=e;C(p.$$.fragment,1,0,()=>{K(p,1)}),Q()}s?(e=new s(l(n)),z(e.$$.fragment),D(e.$$.fragment,1),J(e,t.parentNode,t)):e=null}else s&&e.$set(w)},i:function(n){r||(e&&D(e.$$.fragment,n),r=!0)},o:function(n){e&&C(e.$$.fragment,n),r=!1},d:function(n){n&&B(t),e&&K(e,n)}};return W("SvelteRegisterBlock",{block:d,id:rt.name,type:"if",source:"(36:0) {#if components[1]}",ctx:o}),d}function it(o){let e,t,r;const f=[o[2]||{}];var s=o[0][1];function l(a){let n={};for(let i=0;i<f.length;i+=1)n=ae(n,f[i]);return{props:n,$$inline:!0}}s&&(e=new s(l()));const d={c:function(){e&&z(e.$$.fragment),t=j()},l:function(n){e&&ce(e.$$.fragment,n),t=j()},m:function(n,i){e&&J(e,n,i),q(n,t,i),r=!0},p:function(n,i){const w=i&4?le(f,[fe(n[2]||{})]):{};if(s!==(s=n[0][1])){if(e){H();const p=e;C(p.$$.fragment,1,0,()=>{K(p,1)}),Q()}s?(e=new s(l()),z(e.$$.fragment),D(e.$$.fragment,1),J(e,t.parentNode,t)):e=null}else s&&e.$set(w)},i:function(n){r||(e&&D(e.$$.fragment,n),r=!0)},o:function(n){e&&C(e.$$.fragment,n),r=!1},d:function(n){n&&B(t),e&&K(e,n)}};return W("SvelteRegisterBlock",{block:d,id:it.name,type:"else",source:"(42:2) {:else}",ctx:o}),d}function at(o){let e,t,r;const f=[o[2]||{}];var s=o[0][1];function l(a){let n={$$slots:{default:[ct]},$$scope:{ctx:a}};for(let i=0;i<f.length;i+=1)n=ae(n,f[i]);return{props:n,$$inline:!0}}s&&(e=new s(l(o)));const d={c:function(){e&&z(e.$$.fragment),t=j()},l:function(n){e&&ce(e.$$.fragment,n),t=j()},m:function(n,i){e&&J(e,n,i),q(n,t,i),r=!0},p:function(n,i){const w=i&4?le(f,[fe(n[2]||{})]):{};if(i&521&&(w.$$scope={dirty:i,ctx:n}),s!==(s=n[0][1])){if(e){H();const p=e;C(p.$$.fragment,1,0,()=>{K(p,1)}),Q()}s?(e=new s(l(n)),z(e.$$.fragment),D(e.$$.fragment,1),J(e,t.parentNode,t)):e=null}else s&&e.$set(w)},i:function(n){r||(e&&D(e.$$.fragment,n),r=!0)},o:function(n){e&&C(e.$$.fragment,n),r=!1},d:function(n){n&&B(t),e&&K(e,n)}};return W("SvelteRegisterBlock",{block:d,id:at.name,type:"if",source:"(38:2) {#if components[2]}",ctx:o}),d}function ct(o){let e,t,r;const f=[o[3]||{}];var s=o[0][2];function l(a){let n={};for(let i=0;i<f.length;i+=1)n=ae(n,f[i]);return{props:n,$$inline:!0}}s&&(e=new s(l()));const d={c:function(){e&&z(e.$$.fragment),t=j()},l:function(n){e&&ce(e.$$.fragment,n),t=j()},m:function(n,i){e&&J(e,n,i),q(n,t,i),r=!0},p:function(n,i){const w=i&8?le(f,[fe(n[3]||{})]):{};if(s!==(s=n[0][2])){if(e){H();const p=e;C(p.$$.fragment,1,0,()=>{K(p,1)}),Q()}s?(e=new s(l()),z(e.$$.fragment),D(e.$$.fragment,1),J(e,t.parentNode,t)):e=null}else s&&e.$set(w)},i:function(n){r||(e&&D(e.$$.fragment,n),r=!0)},o:function(n){e&&C(e.$$.fragment,n),r=!1},d:function(n){n&&B(t),e&&K(e,n)}};return W("SvelteRegisterBlock",{block:d,id:ct.name,type:"slot",source:"(39:3) <svelte:component this={components[1]} {...(props_1 || {})}>",ctx:o}),d}function lt(o){let e,t,r,f;const s=[at,it],l=[];function d(n,i){return n[0][2]?0:1}e=d(o),t=l[e]=s[e](o);const a={c:function(){t.c(),r=j()},l:function(i){t.l(i),r=j()},m:function(i,w){l[e].m(i,w),q(i,r,w),f=!0},p:function(i,w){let p=e;e=d(i),e===p?l[e].p(i,w):(H(),C(l[p],1,1,()=>{l[p]=null}),Q(),t=l[e],t?t.p(i,w):(t=l[e]=s[e](i),t.c()),D(t,1),t.m(r.parentNode,r))},i:function(i){f||(D(t),f=!0)},o:function(i){C(t),f=!1},d:function(i){l[e].d(i),i&&B(r)}};return W("SvelteRegisterBlock",{block:a,id:lt.name,type:"slot",source:"(37:1) <svelte:component this={components[0]} {...(props_0 || {})}>",ctx:o}),a}function Se(o){let e,t=o[5]&&Le(o);const r={c:function(){e=wt("div"),t&&t.c(),this.h()},l:function(s){e=bt(s,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var l=vt(e);t&&t.l(l),l.forEach(B),this.h()},h:function(){ke(e,"id","svelte-announcer"),ke(e,"aria-live","assertive"),ke(e,"aria-atomic","true"),F(e,"position","absolute"),F(e,"left","0"),F(e,"top","0"),F(e,"clip","rect(0 0 0 0)"),F(e,"clip-path","inset(50%)"),F(e,"overflow","hidden"),F(e,"white-space","nowrap"),F(e,"width","1px"),F(e,"height","1px"),yt(e,Ot,50,1,1140)},m:function(s,l){q(s,e,l),t&&t.m(e,null)},p:function(s,l){s[5]?t?t.p(s,l):(t=Le(s),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d:function(s){s&&B(e),t&&t.d()}};return W("SvelteRegisterBlock",{block:r,id:Se.name,type:"if",source:"(50:0) {#if mounted}",ctx:o}),r}function Le(o){let e;const t={c:function(){e=kt(o[6])},l:function(f){e=Et(f,o[6])},m:function(f,s){q(f,e,s)},p:function(f,s){s&64&&Rt(e,f[6])},d:function(f){f&&B(e)}};return W("SvelteRegisterBlock",{block:t,id:Le.name,type:"if",source:"(52:2) {#if navigated}",ctx:o}),t}function Pe(o){let e,t,r,f,s;const l=[rt,st],d=[];function a(w,p){return w[0][1]?0:1}e=a(o),t=d[e]=l[e](o);let n=o[4]&&Se(o);const i={c:function(){t.c(),r=St(),n&&n.c(),f=j()},l:function(p){t.l(p),r=Lt(p),n&&n.l(p),f=j()},m:function(p,U){d[e].m(p,U),q(p,r,U),n&&n.m(p,U),q(p,f,U),s=!0},p:function(p,[U]){let T=e;e=a(p),e===T?d[e].p(p,U):(H(),C(d[T],1,1,()=>{d[T]=null}),Q(),t=d[e],t?t.p(p,U):(t=d[e]=l[e](p),t.c()),D(t,1),t.m(r.parentNode,r)),p[4]?n?n.p(p,U):(n=Se(p),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},i:function(p){s||(D(t),s=!0)},o:function(p){C(t),s=!1},d:function(p){d[e].d(p),p&&B(r),n&&n.d(p),p&&B(f)}};return W("SvelteRegisterBlock",{block:i,id:Pe.name,type:"component",source:"",ctx:o}),i}function Ut(o,e,t){let{$$slots:r={},$$scope:f}=e;gt("Root",r,[]);let{stores:s}=e,{page:l}=e,{components:d}=e,{props_0:a=null}=e,{props_1:n=null}=e,{props_2:i=null}=e;Fe("__svelte__",s),Ge(s.page.notify);let w=!1,p=!1,U=null;pe(()=>{const b=s.page.subscribe(()=>{w&&(t(5,p=!0),t(6,U=document.title||"untitled page"))});return t(4,w=!0),b});const T=["stores","page","components","props_0","props_1","props_2"];return Object.keys(e).forEach(b=>{!~T.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<Root> was created with unknown prop '${b}'`)}),o.$$set=b=>{"stores"in b&&t(7,s=b.stores),"page"in b&&t(8,l=b.page),"components"in b&&t(0,d=b.components),"props_0"in b&&t(1,a=b.props_0),"props_1"in b&&t(2,n=b.props_1),"props_2"in b&&t(3,i=b.props_2)},o.$capture_state=()=>({setContext:Fe,afterUpdate:Ge,onMount:pe,stores:s,page:l,components:d,props_0:a,props_1:n,props_2:i,mounted:w,navigated:p,title:U}),o.$inject_state=b=>{"stores"in b&&t(7,s=b.stores),"page"in b&&t(8,l=b.page),"components"in b&&t(0,d=b.components),"props_0"in b&&t(1,a=b.props_0),"props_1"in b&&t(2,n=b.props_1),"props_2"in b&&t(3,i=b.props_2),"mounted"in b&&t(4,w=b.mounted),"navigated"in b&&t(5,p=b.navigated),"title"in b&&t(6,U=b.title)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&384&&s.page.set(l)},[d,a,n,i,w,p,U,s,l]}class At extends _t{constructor(e){super(e);ht(this,e,Ut,Pe,mt,{stores:7,page:8,components:0,props_0:1,props_1:2,props_2:3}),W("SvelteRegisterComponent",{component:this,tagName:"Root",options:e,id:Pe.name});const{ctx:t}=this.$$,r=e.props||{};t[7]===void 0&&!("stores"in r)&&console.warn("<Root> was created without expected prop 'stores'"),t[8]===void 0&&!("page"in r)&&console.warn("<Root> was created without expected prop 'page'"),t[0]===void 0&&!("components"in r)&&console.warn("<Root> was created without expected prop 'components'")}get stores(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stores(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get page(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set page(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get components(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set components(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get props_0(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set props_0(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get props_1(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set props_1(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get props_2(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set props_2(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Nt="modulepreload",He={},It="/_app/",G=function(e,t){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=`${It}${r}`,r in He)return;He[r]=!0;const f=r.endsWith(".css"),s=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":Nt,f||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),f)return new Promise((d,a)=>{l.addEventListener("load",d),l.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},jt={},Oe=[()=>G(()=>import("./layout.svelte-426dcb6d.js"),["layout.svelte-426dcb6d.js","chunks/vendor-acddcd82.js"]),()=>G(()=>import("./error.svelte-ab25a252.js"),["error.svelte-ab25a252.js","chunks/vendor-acddcd82.js"]),()=>G(()=>import("./pages/index.svelte-71581b80.js"),["pages/index.svelte-71581b80.js","assets/pages/index.svelte-5784aee0.css","chunks/vendor-acddcd82.js","chunks/defaults-551c210b.js","assets/defaults-6b35746d.css","chunks/Button-5de2fe22.js","assets/Button-fa67f106.css","chunks/Flex2Col-ea23abcd.js","assets/Flex2Col-9e693a40.css","chunks/MediaModal-39f6cef9.js","assets/MediaModal-585608e4.css","chunks/SpacedDiv-47076bb8.js","assets/SpacedDiv-61cd07b6.css","chunks/ScrollBox-538ae185.js","assets/ScrollBox-3d04c8e6.css"]),()=>G(()=>import("./pages/contact.svelte-af9bdc87.js"),["pages/contact.svelte-af9bdc87.js","assets/pages/contact.svelte-5e7c3bf4.css","chunks/vendor-acddcd82.js","chunks/defaults-551c210b.js","assets/defaults-6b35746d.css","chunks/Button-5de2fe22.js","assets/Button-fa67f106.css","chunks/Flex2Col-ea23abcd.js","assets/Flex2Col-9e693a40.css","chunks/SpacedDiv-47076bb8.js","assets/SpacedDiv-61cd07b6.css"]),()=>G(()=>import("./pages/comics/index.svelte-7ac4676c.js"),["pages/comics/index.svelte-7ac4676c.js","chunks/vendor-acddcd82.js","chunks/defaults-551c210b.js","assets/defaults-6b35746d.css"]),()=>G(()=>import("./pages/design.svelte-e49a2604.js"),["pages/design.svelte-e49a2604.js","assets/pages/design.svelte-6be409ca.css","chunks/vendor-acddcd82.js","chunks/defaults-551c210b.js","assets/defaults-6b35746d.css"]),()=>G(()=>import("./pages/comms.svelte-b91cadda.js"),["pages/comms.svelte-b91cadda.js","assets/pages/comms.svelte-b8d7d7d8.css","chunks/vendor-acddcd82.js","chunks/defaults-551c210b.js","assets/defaults-6b35746d.css","chunks/Flex2Col-ea23abcd.js","assets/Flex2Col-9e693a40.css","chunks/ScrollBox-538ae185.js","assets/ScrollBox-3d04c8e6.css"]),()=>G(()=>import("./pages/art.svelte-2a5f2643.js"),["pages/art.svelte-2a5f2643.js","assets/pages/art.svelte-17fbedcf.css","chunks/vendor-acddcd82.js","chunks/defaults-551c210b.js","assets/defaults-6b35746d.css","chunks/singletons-d1fb5791.js","chunks/MediaModal-39f6cef9.js","assets/MediaModal-585608e4.css","chunks/SpacedDiv-47076bb8.js","assets/SpacedDiv-61cd07b6.css"])],Ct={"":[[0,2],[1]],contact:[[0,3],[1]],comics:[[0,4],[1]],design:[[0,5],[1]],comms:[[0,6],[1]],art:[[0,7],[1]]};function Qe(o){return o instanceof Error||o&&o.name&&o.message?o:new Error(JSON.stringify(o))}function Ze(o){const e=o.status&&o.status>=400&&o.status<=599&&!o.redirect;if(o.error||e){const t=o.status;if(!o.error&&e)return{status:t||500,error:new Error};const r=typeof o.error=="string"?new Error(o.error):o.error;return r instanceof Error?!t||t<400||t>599?(console.warn('"error" returned from load() without a valid status code \u2014 defaulting to 500'),{status:500,error:r}):{status:t,error:r}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof r}"`)}}if(o.redirect){if(!o.status||Math.floor(o.status/100)!==3)return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if(typeof o.redirect!="string")return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}if(o.context)throw new Error('You are returning "context" from a load function. "context" was renamed to "stuff", please adjust your code accordingly.');return o}function Dt(o,e){return o==="/"||e==="ignore"?o:e==="never"?o.endsWith("/")?o.slice(0,-1):o:e==="always"&&/\/[^./]+$/.test(o)?o+"/":o}function Tt(o){let e=5381,t=o.length;if(typeof o=="string")for(;t;)e=e*33^o.charCodeAt(--t);else for(;t;)e=e*33^o[--t];return(e>>>0).toString(36)}function et(o){let e=o.baseURI;if(!e){const t=o.getElementsByTagName("base");e=t.length?t[0].href:o.URL}return e}function $e(){return{x:pageXOffset,y:pageYOffset}}function tt(o){return o.composedPath().find(t=>t instanceof Node&&t.nodeName.toUpperCase()==="A")}function nt(o){return o instanceof SVGAElement?new URL(o.href.baseVal,document.baseURI):new URL(o.href)}function ot(o){const e=_e(o);let t=!0;function r(){t=!0,e.update(l=>l)}function f(l){t=!1,e.set(l)}function s(l){let d;return e.subscribe(a=>{(d===void 0||t&&a!==d)&&l(d=a)})}return{notify:r,set:f,subscribe:s}}function Vt(){const{set:o,subscribe:e}=_e(!1);async function t(){return!1}return{subscribe:e,check:t}}function Bt(o,e){let r=`script[sveltekit\\:data-type="data"][sveltekit\\:data-url=${JSON.stringify(typeof o=="string"?o:o.url)}]`;e&&typeof e.body=="string"&&(r+=`[sveltekit\\:data-body="${Tt(e.body)}"]`);const f=document.querySelector(r);if(f&&f.textContent){const s=JSON.parse(f.textContent),{body:l}=s,d=Ye(s,["body"]);return Promise.resolve(new Response(l,d))}return fetch(o,e)}const xt=/^(\.\.\.)?(\w+)(?:=(\w+))?$/;function qt(o){const e=[],t=[];let r=!0;return{pattern:o===""?/^\/$/:new RegExp(`^${decodeURIComponent(o).split("/").map((s,l,d)=>{const a=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(a)return e.push(a[1]),t.push(a[2]),"(?:/(.*))?";const n=l===d.length-1;return"/"+s.split(/\[(.+?)\]/).map((i,w)=>{if(w%2){const[,p,U,T]=xt.exec(i);return e.push(U),t.push(T),p?"(.*?)":"([^/]+?)"}return n&&i.includes(".")&&(r=!1),i.normalize().replace(/%5[Bb]/g,"[").replace(/%5[Dd]/g,"]").replace(/#/g,"%23").replace(/\?/g,"%3F").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}).join("")}).join("")}${r?"/?":""}$`),names:e,types:t}}function zt(o,e,t,r){const f={};for(let s=0;s<e.length;s+=1){const l=e[s],d=t[s],a=o[s+1]||"";if(d){const n=r[d];if(!n)throw new Error(`Missing "${d}" param matcher`);if(!n(a))return}f[l]=a}return f}function Jt(o,e,t){return Object.entries(e).map(([f,[s,l,d]])=>{const{pattern:a,names:n,types:i}=qt(f);return{id:f,exec:w=>{const p=a.exec(w);if(p)return zt(p,n,i,t)},a:s.map(w=>o[w]),b:l.map(w=>o[w]),has_shadow:!!d}})}const ft="sveltekit:scroll",M="sveltekit:index",Ee=Jt(Oe,Ct,jt),Kt=Oe[0](),Wt=Oe[1]();let ie={};try{ie=JSON.parse(sessionStorage[ft])}catch{}function Re(o){ie[o]=$e()}function Yt({target:o,session:e,base:t,trailing_slash:r}){var Be,xe;const f=new Map,s=new Set,l={url:ot({}),page:ot({}),navigating:_e(null),session:_e(e),updated:Vt()},d={id:null,promise:null},a={before_navigate:[],after_navigate:[]};let n={url:null,session_id:0,branch:[]},i=!1,w=!0,p=!1,U=1,T=null,b,Ue,Ae=!1;l.session.subscribe(async c=>{Ue=c,Ae&&(U+=1,be(new URL(location.href),[],!0))}),Ae=!0;let he=0,Z=!0,x=(xe=(Be=history.state)==null?void 0:Be[M])!=null?xe:0;x===0&&history.replaceState(re(I({},history.state),{[M]:0}),"",location.href);const me=ie[x];me&&scrollTo(me.x,me.y);let ge=!1,we,Ne,Ie;async function je(c,{noscroll:h=!1,replaceState:k=!1,keepfocus:u=!1,state:m={}},y){const g=new URL(c,et(document));if(Z)return ye({url:g,scroll:h?$e():null,keepfocus:u,redirect_chain:y,details:{state:m,replaceState:k},accepted:()=>{},blocked:()=>{}});await oe(g)}async function Ce(c){const h=Ve(c);if(!h)throw new Error("Attempted to prefetch a URL that does not belong to this app");return d.promise=Te(h,!1),d.id=h.id,d.promise}async function be(c,h,k,u){var v,S,P;const m=Ve(c),y=Ne={};let g=m&&await Te(m,k);if(!g&&c.pathname===location.pathname&&(g=await ne({status:404,error:new Error(`Not found: ${c.pathname}`),url:c,routeId:null})),!g){await oe(c);return}if(Ne!==y)return;if(s.clear(),g.redirect)if(h.length>10||h.includes(c.pathname))g=await ne({status:500,error:new Error("Redirect loop"),url:c,routeId:null});else{Z?je(new URL(g.redirect,c).href,{},[...h,c.pathname]):await oe(new URL(g.redirect,location.href));return}else((S=(v=g.props)==null?void 0:v.page)==null?void 0:S.status)>=400&&await l.updated.check()&&await oe(c);if(p=!0,u&&u.details){const{details:E}=u,$=E.replaceState?0:1;E.state[M]=x+=$,history[E.replaceState?"replaceState":"pushState"](E.state,"",c)}if(i?(n=g.state,b.$set(g.props)):De(g),u){const{scroll:E,keepfocus:$}=u;if(!$){const _=document.body,L=_.getAttribute("tabindex");(P=getSelection())==null||P.removeAllRanges(),_.tabIndex=-1,_.focus(),L!==null?_.setAttribute("tabindex",L):_.removeAttribute("tabindex")}if(await Me(),w){const _=c.hash&&document.getElementById(c.hash.slice(1));E?scrollTo(E.x,E.y):_?_.scrollIntoView():scrollTo(0,0)}}else await Me();d.promise=null,d.id=null,w=!0,p=!1,g.props.page&&(we=g.props.page);const R=g.state.branch[g.state.branch.length-1];Z=(R==null?void 0:R.module.router)!==!1}function De(c){n=c.state;const h=document.querySelector("style[data-svelte]");if(h&&h.remove(),we=c.props.page,b=new At({target:o,props:re(I({},c.props),{stores:l}),hydrate:!0}),i=!0,Z){const k={from:null,to:new URL(location.href)};a.after_navigate.forEach(u=>u(k))}}async function ve({url:c,params:h,stuff:k,branch:u,status:m,error:y,routeId:g}){var $;const R=u.filter(Boolean),v=R.find(_=>{var L;return(L=_.loaded)==null?void 0:L.redirect}),S={redirect:($=v==null?void 0:v.loaded)==null?void 0:$.redirect,state:{url:c,params:h,branch:u,session_id:U},props:{components:R.map(_=>_.module.default)}};for(let _=0;_<R.length;_+=1){const L=R[_].loaded;S.props[`props_${_}`]=L?await L.props:null}if(!n.url||c.href!==n.url.href){S.props.page={error:y,params:h,routeId:g,status:m,stuff:k,url:c};const _=(L,Y)=>{Object.defineProperty(S.props.page,L,{get:()=>{throw new Error(`$page.${L} has been replaced by $page.url.${Y}`)}})};_("origin","origin"),_("path","pathname"),_("query","searchParams")}const P=R[R.length-1],E=P.loaded&&P.loaded.maxage;if(E){const _=c.pathname+c.search;let L=!1;const Y=()=>{f.get(_)===S&&f.delete(_),O(),clearTimeout(ee)},ee=setTimeout(Y,E*1e3),O=l.session.subscribe(()=>{L&&Y()});L=!0,f.set(_,S)}return S}async function te({status:c,error:h,module:k,url:u,params:m,stuff:y,props:g,routeId:R}){const v={module:k,uses:{params:new Set,url:!1,session:!1,stuff:!1,dependencies:new Set},loaded:null,stuff:y};g&&v.uses.dependencies.add(u.href);const S={};for(const E in m)Object.defineProperty(S,E,{get(){return v.uses.params.add(E),m[E]},enumerable:!0});const P=Ue;if(k.load){const E={routeId:R,params:S,props:g||{},get url(){return v.uses.url=!0,u},get session(){return v.uses.session=!0,P},get stuff(){return v.uses.stuff=!0,I({},y)},fetch(_,L){const Y=typeof _=="string"?_:_.url,{href:ee}=new URL(Y,u);return v.uses.dependencies.add(ee),i?fetch(_,L):Bt(_,L)}};Object.defineProperty(E,"page",{get:()=>{throw new Error("`page` in `load` functions has been replaced by `url` and `params`")}}),h&&(E.status=c,E.error=h);const $=await k.load.call(null,E);if(!$)throw new Error("load function must return a value");v.loaded=Ze($),v.loaded.stuff&&(v.stuff=v.loaded.stuff)}else g&&(v.loaded=Ze({props:g}));return v}async function Te({id:c,url:h,params:k,route:u},m){var L,Y,ee;if(d.id===c&&d.promise)return d.promise;if(!m){const O=f.get(c);if(O)return O}const{a:y,b:g,has_shadow:R}=u,v=n.url&&{url:c!==n.url.pathname+n.url.search,params:Object.keys(k).filter(O=>n.params[O]!==k[O]),session:U!==n.session_id};let S=[],P={},E=!1,$=200,_;y.forEach(O=>O());e:for(let O=0;O<y.length;O+=1){let A;try{if(!y[O])continue;const N=await y[O](),V=n.branch[O];if(!V||N!==V.module||v.url&&V.uses.url||v.params.some(X=>V.uses.params.has(X))||v.session&&V.uses.session||Array.from(V.uses.dependencies).some(X=>s.has(X))||E&&V.uses.stuff){let X={};const qe=R&&O===y.length-1;if(qe){const se=await fetch(`${h.pathname}${h.pathname.endsWith("/")?"":"/"}__data.json${h.search}`,{headers:{"x-sveltekit-load":"true"}});if(se.ok){const ze=se.headers.get("x-sveltekit-location");if(ze)return{redirect:ze,props:{},state:n};X=se.status===204?{}:await se.json()}else $=se.status,_=new Error("Failed to load data")}if(_||(A=await te({module:N,url:h,params:k,props:X,stuff:P,routeId:u.id})),A&&(qe&&(A.uses.url=!0),A.loaded)){if(A.loaded.fallthrough)throw new Error("fallthrough is no longer supported. Use matchers instead: https://kit.svelte.dev/docs/routing#advanced-routing-validation");if(A.loaded.error&&($=A.loaded.status,_=A.loaded.error),A.loaded.redirect)return{redirect:A.loaded.redirect,props:{},state:n};A.loaded.stuff&&(E=!0)}}else A=V}catch(N){$=500,_=Qe(N)}if(_){for(;O--;)if(g[O]){let N,V,ue=O;for(;!(V=S[ue]);)ue-=1;try{if(N=await te({status:$,error:_,module:await g[O](),url:h,params:k,stuff:V.stuff,routeId:u.id}),(L=N==null?void 0:N.loaded)!=null&&L.error)continue;(Y=N==null?void 0:N.loaded)!=null&&Y.stuff&&(P=I(I({},P),N.loaded.stuff)),S=S.slice(0,ue+1).concat(N);break e}catch{continue}}return await ne({status:$,error:_,url:h,routeId:u.id})}else(ee=A==null?void 0:A.loaded)!=null&&ee.stuff&&(P=I(I({},P),A.loaded.stuff)),S.push(A)}return await ve({url:h,params:k,stuff:P,branch:S,status:$,error:_,routeId:u.id})}async function ne({status:c,error:h,url:k,routeId:u}){var R,v;const m={},y=await te({module:await Kt,url:k,params:m,stuff:{},routeId:u}),g=await te({status:c,error:h,module:await Wt,url:k,params:m,stuff:y&&y.loaded&&y.loaded.stuff||{},routeId:u});return await ve({url:k,params:m,stuff:I(I({},(R=y==null?void 0:y.loaded)==null?void 0:R.stuff),(v=g==null?void 0:g.loaded)==null?void 0:v.stuff),branch:[y,g],status:c,error:h,routeId:u})}function Ve(c){if(c.origin!==location.origin||!c.pathname.startsWith(t))return;const h=decodeURI(c.pathname.slice(t.length)||"/");for(const k of Ee){const u=k.exec(h);if(u)return{id:c.pathname+c.search,route:k,params:u,url:c}}}async function ye({url:c,scroll:h,keepfocus:k,redirect_chain:u,details:m,accepted:y,blocked:g}){const R=n.url;let v=!1;const S={from:R,to:c,cancel:()=>v=!0};if(a.before_navigate.forEach(_=>_(S)),v){g();return}const P=Dt(c.pathname,r),E=new URL(c.origin+P+c.search+c.hash);Re(x),y(),he++;const $=Ie={};if(i&&l.navigating.set({from:n.url,to:E}),await be(E,u,!1,{scroll:h,keepfocus:k,details:m}),he--,Ie===$&&!he){const _={from:R,to:E};a.after_navigate.forEach(L=>L(_)),l.navigating.set(null)}}function oe(c){return location.href=c.href,new Promise(()=>{})}return{after_navigate:c=>{pe(()=>(a.after_navigate.push(c),()=>{const h=a.after_navigate.indexOf(c);a.after_navigate.splice(h,1)}))},before_navigate:c=>{pe(()=>(a.before_navigate.push(c),()=>{const h=a.before_navigate.indexOf(c);a.before_navigate.splice(h,1)}))},disable_scroll_handling:()=>{if(i&&!p)throw new Error("Can only disable scroll handling during navigation");(p||!i)&&(w=!1)},goto:(c,h={})=>je(c,h,[]),invalidate:c=>{const{href:h}=new URL(c,location.href);return s.add(h),T||(T=Promise.resolve().then(async()=>{await be(new URL(location.href),[],!0),T=null})),T},prefetch:async c=>{const h=new URL(c,et(document));await Ce(h)},prefetch_routes:async c=>{const k=(c?Ee.filter(u=>c.some(m=>u.exec(m))):Ee).map(u=>Promise.all(u.a.map(m=>m())));await Promise.all(k)},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",u=>{let m=!1;const y={from:n.url,to:null,cancel:()=>m=!0};a.before_navigate.forEach(g=>g(y)),m?(u.preventDefault(),u.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Re(x);try{sessionStorage[ft]=JSON.stringify(ie)}catch{}}});const c=u=>{const m=tt(u);m&&m.href&&m.hasAttribute("sveltekit:prefetch")&&Ce(nt(m))};let h;const k=u=>{clearTimeout(h),h=setTimeout(()=>{var m;(m=u.target)==null||m.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))},20)};addEventListener("touchstart",c),addEventListener("mousemove",k),addEventListener("sveltekit:trigger_prefetch",c),addEventListener("click",u=>{if(!Z||u.button||u.which!==1||u.metaKey||u.ctrlKey||u.shiftKey||u.altKey||u.defaultPrevented)return;const m=tt(u);if(!m||!m.href)return;const y=m instanceof SVGAElement,g=nt(m);if(!y&&g.origin==="null")return;const R=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||R.includes("external")||(y?m.target.baseVal:m.target))return;if(g.href===location.href){location.hash||u.preventDefault();return}const[v,S]=g.href.split("#");if(S!==void 0&&v===location.href.split("#")[0]){ge=!0,Re(x),l.page.set(re(I({},we),{url:g})),l.page.notify();return}ye({url:g,scroll:m.hasAttribute("sveltekit:noscroll")?$e():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},accepted:()=>u.preventDefault(),blocked:()=>u.preventDefault()})}),addEventListener("popstate",u=>{if(u.state&&Z){if(u.state[M]===x)return;ye({url:new URL(location.href),scroll:ie[u.state[M]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{x=u.state[M]},blocked:()=>{const m=x-u.state[M];history.go(m)}})}}),addEventListener("hashchange",()=>{ge&&(ge=!1,history.replaceState(re(I({},history.state),{[M]:++x}),"",location.href))})},_hydrate:async({status:c,error:h,nodes:k,params:u,routeId:m})=>{const y=new URL(location.href),g=[];let R={},v,S;try{for(let P=0;P<k.length;P+=1){const E=P===k.length-1;let $;if(E){const L=document.querySelector('script[sveltekit\\:data-type="props"]');L&&($=JSON.parse(L.textContent))}const _=await te({module:await k[P],url:y,params:u,stuff:R,status:E?c:void 0,error:E?h:void 0,props:$,routeId:m});if($&&(_.uses.dependencies.add(y.href),_.uses.url=!0),g.push(_),_&&_.loaded)if(_.loaded.error){if(h)throw _.loaded.error;S={status:_.loaded.status,error:_.loaded.error,url:y,routeId:m}}else _.loaded.stuff&&(R=I(I({},R),_.loaded.stuff))}v=S?await ne(S):await ve({url:y,params:u,stuff:R,branch:g,status:c,error:h,routeId:m})}catch(P){if(h)throw P;v=await ne({status:500,error:Qe(P),url:y,routeId:m})}v.redirect&&await oe(new URL(v.redirect,location.href)),De(v)}}}async function Xt({paths:o,target:e,session:t,route:r,spa:f,trailing_slash:s,hydrate:l}){const d=Yt({target:e,session:t,base:o.base,trailing_slash:s});Pt({client:d}),$t(o),l&&await d._hydrate(l),r&&(f&&d.goto(location.href,{replaceState:!0}),d._start_router()),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Xt as start};
