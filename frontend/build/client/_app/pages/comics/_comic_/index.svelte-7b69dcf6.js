import{S as U,i as G,s as K,x as k,y as I,z as y,r as P,p as V,C as F,e as h,t as E,k as C,c as d,a as v,h as D,d as m,m as S,b,g as p,J as $,j as q,O as N}from"../../../chunks/index-467184d8.js";import{a as Q}from"../../../chunks/apiFetch-1e72d496.js";import{P as W,S as X}from"../../../chunks/Page-fae97556.js";import{F as Y}from"../../../chunks/FlexCols-97b3ceef.js";import{S as T}from"../../../chunks/SpacedDiv-9b4a7d42.js";import{I as Z}from"../../../chunks/Image-2e50915c.js";import{c as J}from"../../../chunks/convert-date-64d95c73.js";function M(f,e,s){const l=f.slice();return l[1]=e[s],l}function x(f){let e,s=f[0].title+"",l,r,c,i=f[0].desc+"",u;return{c(){e=h("p"),l=E(s),r=C(),c=h("p"),u=E(i),this.h()},l(a){e=d(a,"P",{class:!0});var t=v(e);l=D(t,s),t.forEach(m),r=S(a),c=d(a,"P",{class:!0});var n=v(c);u=D(n,i),n.forEach(m),this.h()},h(){b(e,"class","comic-title svelte-5rfvmw"),b(c,"class","comic-desc")},m(a,t){p(a,e,t),$(e,l),p(a,r,t),p(a,c,t),$(c,u)},p(a,t){t&1&&s!==(s=a[0].title+"")&&q(l,s),t&1&&i!==(i=a[0].desc+"")&&q(u,i)},d(a){a&&m(e),a&&m(r),a&&m(c)}}}function ee(f){let e,s,l,r,c,i,u;return l=new Z({props:{src:"https://api.graciebell.art"+f[0].thumbnail,style:"max-width:13.66rem; border-radius:var(--rounded-2);",alt:""}}),i=new T({props:{$$slots:{default:[x]},$$scope:{ctx:f}}}),{c(){e=h("div"),s=h("div"),k(l.$$.fragment),r=C(),c=h("div"),k(i.$$.fragment),this.h()},l(a){e=d(a,"DIV",{class:!0});var t=v(e);s=d(t,"DIV",{});var n=v(s);I(l.$$.fragment,n),n.forEach(m),t.forEach(m),r=S(a),c=d(a,"DIV",{class:!0});var o=v(c);I(i.$$.fragment,o),o.forEach(m),this.h()},h(){b(e,"class","col-1 svelte-5rfvmw"),b(c,"class","col-2 svelte-5rfvmw")},m(a,t){p(a,e,t),$(e,s),y(l,s,null),p(a,r,t),p(a,c,t),y(i,c,null),u=!0},p(a,t){const n={};t&1&&(n.src="https://api.graciebell.art"+a[0].thumbnail),l.$set(n);const o={};t&17&&(o.$$scope={dirty:t,ctx:a}),i.$set(o)},i(a){u||(P(l.$$.fragment,a),P(i.$$.fragment,a),u=!0)},o(a){V(l.$$.fragment,a),V(i.$$.fragment,a),u=!1},d(a){a&&m(e),F(l),a&&m(r),a&&m(c),F(i)}}}function te(f){let e;return{c(){e=E("Strips")},l(s){e=D(s,"Strips")},m(s,l){p(s,e,l)},d(s){s&&m(e)}}}function le(f){let e;return{c(){e=E("Single-Volume")},l(s){e=D(s,"Single-Volume")},m(s,l){p(s,e,l)},d(s){s&&m(e)}}}function se(f){let e;return{c(){e=E("Chapters")},l(s){e=D(s,"Chapters")},m(s,l){p(s,e,l)},d(s){s&&m(e)}}}function R(f){let e,s,l,r=f[0].type=="multi_volume"?"Ch. "+f[1].index+" - ":"",c,i,u=f[1].title+"",a,t,n,o,_=J(f[1].date)+"",A,L,z;return{c(){e=h("li"),s=h("a"),l=h("p"),c=E(r),i=C(),a=E(u),t=C(),n=h("p"),o=h("time"),A=E(_),z=C(),this.h()},l(g){e=d(g,"LI",{});var w=v(e);s=d(w,"A",{href:!0,class:!0});var O=v(s);l=d(O,"P",{class:!0});var j=v(l);c=D(j,r),i=S(j),a=D(j,u),j.forEach(m),t=S(O),n=d(O,"P",{});var B=v(n);o=d(B,"TIME",{class:!0});var H=v(o);A=D(H,_),H.forEach(m),B.forEach(m),O.forEach(m),z=S(w),w.forEach(m),this.h()},h(){b(l,"class","ch-title svelte-5rfvmw"),b(o,"class","svelte-5rfvmw"),b(s,"href",L="/comics/"+f[0].url+"/"+f[1].index),b(s,"class","svelte-5rfvmw")},m(g,w){p(g,e,w),$(e,s),$(s,l),$(l,c),$(l,i),$(l,a),$(s,t),$(s,n),$(n,o),$(o,A),$(e,z)},p(g,w){w&1&&r!==(r=g[0].type=="multi_volume"?"Ch. "+g[1].index+" - ":"")&&q(c,r),w&1&&u!==(u=g[1].title+"")&&q(a,u),w&1&&_!==(_=J(g[1].date)+"")&&q(A,_),w&1&&L!==(L="/comics/"+g[0].url+"/"+g[1].index)&&b(s,"href",L)},d(g){g&&m(e)}}}function ae(f){let e,s,l;function r(t,n){if(t[0].type=="multi_volume")return se;if(t[0].type=="single_volume")return le;if(t[0].type=="strip")return te}let c=r(f),i=c&&c(f),u=f[0].chapters,a=[];for(let t=0;t<u.length;t+=1)a[t]=R(M(f,u,t));return{c(){e=h("h2"),i&&i.c(),s=C(),l=h("ol");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=d(t,"H2",{});var n=v(e);i&&i.l(n),n.forEach(m),s=S(t),l=d(t,"OL",{class:!0});var o=v(l);for(let _=0;_<a.length;_+=1)a[_].l(o);o.forEach(m),this.h()},h(){b(l,"class","svelte-5rfvmw")},m(t,n){p(t,e,n),i&&i.m(e,null),p(t,s,n),p(t,l,n);for(let o=0;o<a.length;o+=1)a[o].m(l,null)},p(t,n){if(c!==(c=r(t))&&(i&&i.d(1),i=c&&c(t),i&&(i.c(),i.m(e,null))),n&1){u=t[0].chapters;let o;for(o=0;o<u.length;o+=1){const _=M(t,u,o);a[o]?a[o].p(_,n):(a[o]=R(_),a[o].c(),a[o].m(l,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=u.length}},d(t){t&&m(e),i&&i.d(),t&&m(s),t&&m(l),N(a,t)}}}function re(f){let e,s,l,r,c,i,u,a;return r=new Y({props:{$$slots:{default:[ee]},$$scope:{ctx:f}}}),u=new T({props:{$$slots:{default:[ae]},$$scope:{ctx:f}}}),{c(){e=h("a"),s=E("Comics"),l=C(),k(r.$$.fragment),c=C(),i=h("div"),k(u.$$.fragment),this.h()},l(t){e=d(t,"A",{href:!0});var n=v(e);s=D(n,"Comics"),n.forEach(m),l=S(t),I(r.$$.fragment,t),c=S(t),i=d(t,"DIV",{id:!0});var o=v(i);I(u.$$.fragment,o),o.forEach(m),this.h()},h(){b(e,"href","/comics"),b(i,"id","chapters")},m(t,n){p(t,e,n),$(e,s),p(t,l,n),y(r,t,n),p(t,c,n),p(t,i,n),y(u,i,null),a=!0},p(t,n){const o={};n&17&&(o.$$scope={dirty:n,ctx:t}),r.$set(o);const _={};n&17&&(_.$$scope={dirty:n,ctx:t}),u.$set(_)},i(t){a||(P(r.$$.fragment,t),P(u.$$.fragment,t),a=!0)},o(t){V(r.$$.fragment,t),V(u.$$.fragment,t),a=!1},d(t){t&&m(e),t&&m(l),F(r,t),t&&m(c),t&&m(i),F(u)}}}function ie(f){let e,s;return e=new X({props:{simple:"true",spacing:"double",$$slots:{default:[re]},$$scope:{ctx:f}}}),{c(){k(e.$$.fragment)},l(l){I(e.$$.fragment,l)},m(l,r){y(e,l,r),s=!0},p(l,r){const c={};r&17&&(c.$$scope={dirty:r,ctx:l}),e.$set(c)},i(l){s||(P(e.$$.fragment,l),s=!0)},o(l){V(e.$$.fragment,l),s=!1},d(l){F(e,l)}}}function ce(f){let e,s;return e=new W({props:{title:"Comics",$$slots:{default:[ie]},$$scope:{ctx:f}}}),{c(){k(e.$$.fragment)},l(l){I(e.$$.fragment,l)},m(l,r){y(e,l,r),s=!0},p(l,[r]){const c={};r&17&&(c.$$scope={dirty:r,ctx:l}),e.$set(c)},i(l){s||(P(e.$$.fragment,l),s=!0)},o(l){V(e.$$.fragment,l),s=!1},d(l){F(e,l)}}}async function he({params:f}){let e=[],s={comicData:{}};if(e=await Q("comics","filters[url][$eq]="+f.comic,"populate[0]=comic_chapters","populate[1]=thumbnail"),e!=null){let l=e[0].attributes;s.comicData={title:l.title,url:l.url,desc:l.description,type:l.type,thumbnail:l.thumbnail.data.attributes.url,chapters:l.comic_chapters.data.map(r=>({index:r.attributes.chapter_number,title:r.attributes.title,date:r.attributes.release_date})).sort((r,c)=>r.index>c.index?1:-1)}}return{props:s}}function ne(f,e,s){let{comicData:l}=e;return f.$$set=r=>{"comicData"in r&&s(0,l=r.comicData)},[l]}class de extends U{constructor(e){super(),G(this,e,ne,ce,K,{comicData:0})}}export{de as default,he as load};
