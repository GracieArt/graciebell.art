import{K as G,S as T,i as V,s as J,e as M,x as $,k as S,t as I,c as z,a as C,y as b,m as N,h as E,d as _,b as y,g as j,z as v,J as d,j as q,r as m,p as h,C as P,L as H,M as Q,w as R,N as W,O as X,o as Y,q as Z,P as x}from"../chunks/index-4e60143b.js";import{I as B,P as ee,S as te}from"../chunks/Page-14875e71.js";import{c as w}from"../chunks/singletons-d1fb5791.js";import{I as ae}from"../chunks/Image-b7b18b30.js";import{M as se}from"../chunks/MediaModal-e6de862d.js";import"../chunks/SpacedDiv-c5caa520.js";w.disable_scroll_handling;const ne=w.goto;w.invalidate;w.prefetch;w.prefetch_routes;w.before_navigate;w.after_navigate;const re=()=>{const s=G("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session,updated:s.updated}},le={subscribe(s){return re().page.subscribe(s)}};function ie(s){let e,n,a,i,u,t,g,r,l,c;return n=new B({props:{type:"left-arrow",size:"big",color:"dark-blue"}}),n.$on("click",s[3]),l=new B({props:{type:"right-arrow",size:"big",color:"dark-blue"}}),l.$on("click",s[4]),{c(){e=M("div"),$(n.$$.fragment),a=S(),i=M("span"),u=I(s[0]),t=I(" of "),g=I(s[1]),r=S(),$(l.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var p=C(e);b(n.$$.fragment,p),a=N(p),i=z(p,"SPAN",{class:!0});var k=C(i);u=E(k,s[0]),t=E(k," of "),g=E(k,s[1]),k.forEach(_),r=N(p),b(l.$$.fragment,p),p.forEach(_),this.h()},h(){y(i,"class","page-number svelte-1x15rsl"),y(e,"class","page-controls svelte-1x15rsl")},m(o,p){j(o,e,p),v(n,e,null),d(e,a),d(e,i),d(i,u),d(i,t),d(i,g),d(e,r),v(l,e,null),c=!0},p(o,[p]){(!c||p&1)&&q(u,o[0]),(!c||p&2)&&q(g,o[1])},i(o){c||(m(n.$$.fragment,o),m(l.$$.fragment,o),c=!0)},o(o){h(n.$$.fragment,o),h(l.$$.fragment,o),c=!1},d(o){o&&_(e),P(n),P(l)}}}function oe(s,e,n){let{pageNum:a}=e,{lastPage:i}=e,u=H();const t=()=>u("prev"),g=()=>u("next");return s.$$set=r=>{"pageNum"in r&&n(0,a=r.pageNum),"lastPage"in r&&n(1,i=r.lastPage)},[a,i,u,t,g]}class ue extends T{constructor(e){super(),V(this,e,oe,ie,J,{pageNum:0,lastPage:1})}}function A(s,e,n){return Math.min(Math.max(s,e),n)}function D(s,e,n){const a=s.slice();return a[12]=e[n],a}function O(s){let e,n,a,i,u,t,g;n=new ae({props:{src:"https://api.graciebell.art"+s[12].attributes.thumbnail.data.attributes.formats.thumbnail.url,style:"border-radius: var(--rounded-2); width: 100%;",alt:""}});function r(){return s[9](s[12])}return{c(){e=M("button"),$(n.$$.fragment),a=S(),this.h()},l(l){e=z(l,"BUTTON",{title:!0,class:!0});var c=C(e);b(n.$$.fragment,c),a=N(c),c.forEach(_),this.h()},h(){y(e,"title",i=s[12].attributes.title),y(e,"class","svelte-ujxgij")},m(l,c){j(l,e,c),v(n,e,null),d(e,a),u=!0,t||(g=X(e,"click",r),t=!0)},p(l,c){s=l;const o={};c&4&&(o.src="https://api.graciebell.art"+s[12].attributes.thumbnail.data.attributes.formats.thumbnail.url),n.$set(o),(!u||c&4&&i!==(i=s[12].attributes.title))&&y(e,"title",i)},i(l){u||(m(n.$$.fragment,l),u=!0)},o(l){h(n.$$.fragment,l),u=!1},d(l){l&&_(e),P(n),t=!1,g()}}}function ce(s){let e,n,a,i;e=new ue({props:{pageNum:s[1],lastPage:s[3]}}),e.$on("next",s[7]),e.$on("prev",s[8]);let u=s[2],t=[];for(let r=0;r<u.length;r+=1)t[r]=O(D(s,u,r));const g=r=>h(t[r],1,1,()=>{t[r]=null});return{c(){$(e.$$.fragment),n=S(),a=M("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){b(e.$$.fragment,r),n=N(r),a=z(r,"DIV",{class:!0});var l=C(a);for(let c=0;c<t.length;c+=1)t[c].l(l);l.forEach(_),this.h()},h(){y(a,"class","gallery svelte-ujxgij")},m(r,l){v(e,r,l),j(r,n,l),j(r,a,l);for(let c=0;c<t.length;c+=1)t[c].m(a,null);i=!0},p(r,l){const c={};if(l&2&&(c.pageNum=r[1]),e.$set(c),l&5){u=r[2];let o;for(o=0;o<u.length;o+=1){const p=D(r,u,o);t[o]?(t[o].p(p,l),m(t[o],1)):(t[o]=O(p),t[o].c(),m(t[o],1),t[o].m(a,null))}for(Y(),o=u.length;o<t.length;o+=1)g(o);Z()}},i(r){if(!i){m(e.$$.fragment,r);for(let l=0;l<u.length;l+=1)m(t[l]);i=!0}},o(r){h(e.$$.fragment,r),t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)h(t[l]);i=!1},d(r){P(e,r),r&&_(n),r&&_(a),x(t,r)}}}function ge(s){let e,n;return e=new te({props:{simple:"true",$$slots:{default:[ce]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},l(a){b(e.$$.fragment,a)},m(a,i){v(e,a,i),n=!0},p(a,i){const u={};i&32775&&(u.$$scope={dirty:i,ctx:a}),e.$set(u)},i(a){n||(m(e.$$.fragment,a),n=!0)},o(a){h(e.$$.fragment,a),n=!1},d(a){P(e,a)}}}function pe(s){let e,n,a,i,u={};return e=new se({props:u}),s[6](e),a=new ee({props:{title:"Art",$$slots:{default:[ge]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment),n=S(),$(a.$$.fragment)},l(t){b(e.$$.fragment,t),n=N(t),b(a.$$.fragment,t)},m(t,g){v(e,t,g),j(t,n,g),v(a,t,g),i=!0},p(t,[g]){const r={};e.$set(r);const l={};g&32775&&(l.$$scope={dirty:g,ctx:t}),a.$set(l)},i(t){i||(m(e.$$.fragment,t),m(a.$$.fragment,t),i=!0)},o(t){h(e.$$.fragment,t),h(a.$$.fragment,t),i=!1},d(t){s[6](null),P(e,t),t&&_(n),P(a,t)}}}let fe=15;async function Pe({fetch:s}){let e=["filters[media_type][$eq]=art",`pagination[pageSize]=${fe}`];return{props:{pagination:(await(await s(`https://api.graciebell.art/api/posts?${e.join("&")}`)).json()).meta.pagination}}}function me(s,e,n){let a;Q(s,le,f=>n(10,a=f));let{pagination:i}=e,u,t=1,g=i.pageCount,r=[];R(l);async function l(){a.url.searchParams.has("page")?n(1,t=A(a.url.searchParams.get("page"),1,g)):n(1,t=1);let f="https://api.graciebell.art/api/posts",L=["filters[media_type][$eq]=art","sort=date:desc",`pagination[page]=${t}`,`pagination[pageSize]=${i.pageSize}`,"pagination[withCount]=false","populate[0]=thumbnail","populate[1]=media_file"],U=await fetch(`${f}?${L.join("&")}`).then(F=>F.json());n(2,r=U.data)}function c(f){n(1,t=A(t+f,1,g)),a.url.searchParams.set("page",t),ne(a.url.toString()),l()}function o(f){W[f?"unshift":"push"](()=>{u=f,n(0,u)})}const p=()=>c(1),k=()=>c(-1),K=f=>u.openModal(f);return s.$$set=f=>{"pagination"in f&&n(5,i=f.pagination)},[u,t,r,g,c,i,o,p,k,K]}class we extends T{constructor(e){super(),V(this,e,me,pe,J,{pagination:5})}}export{we as default,Pe as load};
